(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(18)},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(0),r=n(1),o=n.n(r),i=n(8),u=n.n(i),s=n(4),l=n(9),f=function(e){var t=e.x,n=e.y,a=e.scale,c=e.type,r=void 0===c?"Bottom":c,i=Object(l.a)(function(e){var t=s["axis".concat(r)](a);s.select(e).call(t)});return o.a.createElement("g",{transform:"translate(".concat(t,", ").concat(n,")"),ref:i})},m=function(e){var t=e.x,n=e.y,a=e.width,c=e.height,i=e.data,u=i?s.extent(i.map(function(e){return e.startDate})):[],l=i?s.extent(i.map(function(e){return e.cases})):[],m=s.scaleLinear().domain(u).range([0,a]).nice(),h=Object(r.useMemo)(function(){return s.scaleLinear().domain(l).range([c,0]).nice()},[l,c]);return i?o.a.createElement("g",{transform:"translate(".concat(t,", ").concat(n,")")},i.map(function(e){return o.a.createElement("circle",{cx:m(e.startDate),cy:h(e.cases),r:3})}),o.a.createElement(f,{x:0,y:c,scale:m}),o.a.createElement(f,{x:0,y:0,scale:h,type:"Left"})):""};var h=function(e){return o.a.createElement("div",{className:"App"},o.a.createElement("svg",{width:"800",height:"800"},o.a.createElement(m,{x:100,y:100,width:400,height:300,data:e.data})))},p=(n(17),"https://frontend-exercise-api.herokuapp.com/cases/");function d(){var e=function(){for(var e=[],t=1801,n=1791;n<=2019;n+=10){var a="".concat(p,"?before=").concat(t,"0101&after=").concat(n,"0101");t+=10,e.push(a)}return e}();return Promise.all(e.map(function(e){return fetch(e).then(function(e){return e.json()})}))}function E(){var e=o.a.useState(0),t=Object(c.a)(e,2),n=t[0],i=(t[1],o.a.useState(!0)),u=Object(c.a)(i,2),s=u[0],l=u[1],f=o.a.useState(null),m=Object(c.a)(f,2),p=(m[0],m[1]),E=o.a.useState(null),v=Object(c.a)(E,2),j=v[0],b=v[1];return Object(r.useEffect)(function(){l(!0),d().then(function(e){e=Object.assign.apply(Object,[{}].concat(Object(a.a)(e)));var t={};Object.values(e).forEach(function(e){e.majority.forEach(function(e){t[e]?t[e]+=1:t[e]=1}),e.dissents.forEach(function(e){t[e]?t[e]+=1:t[e]=1}),e.other.forEach(function(e){t[e]?t[e]+=1:t[e]=1})});var n=[];fetch("https://frontend-exercise-api.herokuapp.com/justices").then(function(e){return e.json()}).then(function(e){e.forEach(function(e){n.push({id:e.id,name:e.name,startDate:new Date(e.start_date).getFullYear(),cases:t[e.id]?t[e.id]:0})}),b([].concat(n))}),console.log(t),p(null),l(!1)}).catch(function(e){console.warn(e),p("error fetching data"),l(!1)})},[n]),!0===s?o.a.createElement("p",null,"loading"):o.a.createElement("div",{className:"App"},o.a.createElement(h,{data:j}))}var v=document.getElementById("root");u.a.render(o.a.createElement(E,null),v)}},[[10,1,2]]]);
//# sourceMappingURL=main.aca0b18b.chunk.js.map